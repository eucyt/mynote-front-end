(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{6192:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return r(7853)}])},3707:function(t,e,r){"use strict";var n=r(5893);r(7294);e.Z=function(t){return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"120",height:"120",className:t.className,children:[(0,n.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,n.jsx)("path",{d:"M21 18H6a1 1 0 0 0 0 2h15v2H6a3 3 0 0 1-3-3V4a2 2 0 0 1 2-2h16v16zm-5-9V7H8v2h8z"})]})}},6737:function(t,e,r){"use strict";var n=r(5893);r(7294);e.Z=function(t){return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col sm:justify-center items-center pt-6 sm:pt-0 bg-gray-100",children:[(0,n.jsx)("div",{children:t.logo}),(0,n.jsx)("div",{className:"w-full sm:max-w-md mt-6 px-6 py-4 bg-white shadow-md overflow-hidden sm:rounded-lg",children:t.children})]})}},6873:function(t,e,r){"use strict";var n=r(5893);r(7294);e.Z=function(t){return(0,n.jsx)(n.Fragment,{children:t.status&&(0,n.jsx)("div",{className:"".concat(t.className," font-medium text-sm text-green-600"),children:t.status})})}},4385:function(t,e,r){"use strict";var n=r(5893);r(7294);e.Z=function(t){return(0,n.jsx)(n.Fragment,{children:t.errors.length>0&&(0,n.jsxs)("div",{className:t.className,children:[(0,n.jsx)("div",{className:"font-medium text-red-600",children:"Whoops! Something went wrong."}),(0,n.jsx)("ul",{className:"mt-3 list-disc list-inside text-sm text-red-600",children:t.errors.map((function(t){return(0,n.jsx)("li",{children:t},t)}))})]})})}},7543:function(t,e,r){"use strict";var n=r(5893);r(7294);e.Z=function(t){var e=t.type,r=void 0===e?"submit":e,s=t.className,a=t.children;return(0,n.jsx)("button",{type:r,className:"".concat(s," inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring ring-gray-300 disabled:opacity-25 transition ease-in-out duration-150"),children:a})}},5740:function(t,e,r){"use strict";var n=r(5893);r(7294);e.Z=function(t){var e=t.id,r=t.type,s=t.name,a=t.value,o=t.className,i=t.onChange,u=t.autoComplete,c=t.required,l=void 0!==c&&c,d=t.autoFocus,f=void 0!==d&&d,m=t.disabled,h=void 0!==m&&m;return(0,n.jsx)("input",{id:e,type:r,name:s,value:a,onChange:i,autoComplete:u,required:l,autoFocus:f,disabled:h,className:"".concat(o," rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50")})}},2680:function(t,e,r){"use strict";var n=r(5893);r(7294);e.Z=function(t){return(0,n.jsx)("label",{className:"".concat(t.className," block font-medium text-sm text-gray-700"),htmlFor:t.htmlFor,children:t.children})}},3466:function(t,e,r){"use strict";var n=r(5893),s=r(9008);r(7294);e.Z=function(t){var e=t.children;return(0,n.jsxs)("div",{children:[(0,n.jsx)(s.default,{children:(0,n.jsx)("title",{children:"MyNote"})}),(0,n.jsx)("div",{className:"font-sans text-gray-900 antialiased",children:e})]})}},483:function(t,e,r){"use strict";r.d(e,{a:function(){return f}});var n=r(4051),s=r.n(n),a=r(8100),o=r(9877),i=r(7294),u=r(1163),c=r(3454);function l(t,e,r,n,s,a,o){try{var i=t[a](o),u=i.value}catch(c){return void r(c)}i.done?e(u):Promise.resolve(u).then(n,s)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,s){var a=t.apply(e,r);function o(t){l(a,n,s,o,i,"next",t)}function i(t){l(a,n,s,o,i,"throw",t)}o(void 0)}))}}var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.middleware,r=t.redirectIfAuthenticated,n=void 0===r?"/":r,l=(0,u.useRouter)(),f=(0,a.ZP)("/api/user",(function(){return o.Z.get("/api/user").then((function(t){return t.data})).catch((function(t){if(409!==t.response.status)throw t;l.push("/verify-email")}))})),m=f.data,h=f.error,p=f.mutate,v=function(){return o.Z.get("/sanctum/csrf-cookie")},w=function(){var t=d(s().mark((function t(e){var r,n,a,i,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.setErrors,n=e.name,a=e.email,i=e.password,u=e.password_confirmation,t.next=3,v();case 3:r([]),o.Z.post("/register",{name:n,email:a,password:i,password_confirmation:u}).then((function(){return p()})).catch((function(t){if(422!==t.response.status)throw t;r(Object.values(t.response.data.errors).flat())}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=d(s().mark((function t(e){var r,n,a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.setErrors,n=e.setStatus,a=e.email,i=e.password,t.next=3,v();case 3:r([]),n(null),o.Z.post("/login",{email:a,password:i}).then((function(){return p()})).catch((function(t){if(422!==t.response.status)throw t;r(Object.values(t.response.data.errors).flat())}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=d(s().mark((function t(e){var r,n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.setErrors,n=e.setStatus,a=e.email,t.next=3,v();case 3:r([]),n(null),o.Z.post("/forgot-password",{email:a}).then((function(t){return n(t.data.status)})).catch((function(t){if(422!==t.response.status)throw t;r(Object.values(t.response.data.errors).flat())}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=d(s().mark((function t(e){var r,n,a,i,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.setErrors,n=e.setStatus,a=e.email,i=e.password,u=e.password_confirmation,t.next=3,v();case 3:r([]),n(null),o.Z.post("/reset-password",{token:l.query.token,email:a,password:i,password_confirmation:u}).then((function(t){return l.push("/login?reset="+window.btoa(t.data.status))})).catch((function(t){if(422!=t.response.status)throw t;r(Object.values(t.response.data.errors).flat())}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(t){var e=t.setStatus;o.Z.post("/email/verification-notification").then((function(t){return e(t.data.status)}))},b=function(){var t=d(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h){t.next=3;break}return t.next=3,o.Z.post("/logout").then((function(){return p()}));case 3:window.location.pathname=c.env.BASE_PATH+"/login";case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){"guest"===e&&n&&m&&l.push(n),"auth"===e&&h&&b()}),[m,h]),{user:m,register:w,login:x,forgotPassword:g,resetPassword:j,resendEmailVerification:y,logout:b}}},9877:function(t,e,r){"use strict";var n=r(9669),s=r.n(n)().create({baseURL:"http://localhost:8000",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});e.Z=s},7853:function(t,e,r){"use strict";r.r(e);var n=r(5893),s=r(3707),a=r(6737),o=r(6873),i=r(4385),u=r(7543),c=r(3466),l=r(5740),d=r(2680),f=r(1664),m=r(483),h=r(7294);e.default=function(){var t=(0,m.a)({middleware:"guest"}).forgotPassword,e=(0,h.useState)(""),r=e[0],p=e[1],v=(0,h.useState)([]),w=v[0],x=v[1],g=(0,h.useState)(null),j=g[0],y=g[1];return(0,n.jsx)(c.Z,{children:(0,n.jsxs)(a.Z,{logo:(0,n.jsx)(f.default,{href:"/",children:(0,n.jsx)("a",{children:(0,n.jsx)(s.Z,{})})}),children:[(0,n.jsx)("div",{className:"mb-4 text-sm text-gray-600",children:"Forgot your password? No problem. Just let us know your email address and we will email you a password reset link that will allow you to choose a new one."}),(0,n.jsx)(o.Z,{className:"mb-4",status:j}),(0,n.jsx)(i.Z,{className:"mb-4",errors:w}),(0,n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({setErrors:x,setStatus:y,email:r})},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Z,{htmlFor:"email",children:"Email"}),(0,n.jsx)(l.Z,{id:"email",type:"email",name:"email",value:r,className:"block mt-1 w-full",onChange:function(t){return p(t.target.value)},required:!0,autoFocus:!0})]}),(0,n.jsx)("div",{className:"flex items-center justify-end mt-4",children:(0,n.jsx)(u.Z,{children:"Email Password Reset Link"})})]})]})})}}},function(t){t.O(0,[101,774,888,179],(function(){return e=6192,t(t.s=e);var e}));var e=t.O();_N_E=e}]);